# js闭包

###### 比较容易理解的闭包定义
> 函数嵌套函数时，内层函数引用了外层函数作用域下的变量，并且内层函数在全局环境下可访问，就形成了闭包。

---
> 闭包涉及作用域，作用域链，执行上下文，内存管理等多重知识点

1. 作用域其实是一套规则：用于确定在特定场景下如何查找变量
2. 在JS中，ES6出现之前，只有函数作用域和全局作用域，ES6新增块级作用域
3. ES5中，
-    对于顶层函数来说，在函数外部声明的变量就是全局变量，在函数内部可读取
-    在函数内部声明的变量，外部无法读取，称为局部变量
-    在函数内部定义的变量，会在该作用域内覆盖同名全局变量
-    对于var命令来说，局部变量只能在函数内部声明，在其他区块中声明，均视为全局变量，在区块外可读取
-    与全局作用域一样，在函数作用域内也存在变量提升现象，var命令声明的变量，无论在什么位置，变量声明都会被提升至函数体的头部
-    函数本身也是一个值，也有自己的作用域。它的作用域与变量一样，就是其声明时所在的作用域，与其运行时所在的作用域无关
> -    总之，函数执行时所在的作用域，是定义时的作用域，而不是调用时所在的作用域.很容易犯错的一点是，如果函数A调用函数B，却没考虑到函数B不会引用函数A的内部变量
-    同样的，函数体内部声明的函数，作用域绑定函数体内部。
