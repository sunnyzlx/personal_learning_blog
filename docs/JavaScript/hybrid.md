# hybrid

#### hybrid:是客户端和前端的混合开发，存在的意义在于快速迭代（上线快，无需审核； 加载文件快使用file协议），无需审核
- 优点
  - 体验更好，和客户端体验基本一致
  - 可快速迭代，无需app审核（关键）
- 缺点
  - 开发成本高（联调，测试，查bug都比较麻烦）
  - 运维成本高（更新上线）
  
- webview:
  - 是app中的一个组件（可以有webview。也可以没有）
  - 用于加载h5页面，即一个小型的浏览器内核
- file协议
  - 本地加载，特别快
  - 能够做到和客户端一样快
- 具体实现
  - 前端做好静态页面（html，css，js），然后交给客户端
  - 客户端拿到静态页面，以文件形式存储在app中
  - 客户端在一个webview中使用file协议加载动态页面
- js和客户端通讯的基本形式
  - js访问客户端能力，传递参数和回调函数
  - 客户端通过回调函数返回内容
  - 调用能力，传递参数，监听回调
  - shema是前端和客户端通讯的基本协议，通过iframe可以访问shema协议
  - 调用schema代码的封装
- 内置上线（更快，更安全）
  - 将schema封装的代码打包，叫做invoke.js，内置到客户端
  - 客户端每次启动webview，都默认执行invoke.js
  - 本地加载，没有网络请求，黑客看不到schema协议，更安全
  
