# js类型及其判断

1. JavaScript 具有==七种内置数据类型==，它们分别是：
- null、
- undefined、
- boolean、
- number、
- string、
- object、
- symbol(ES6新增)
2. 前面==五种为基本类型==。第六种 object 类型又具体包含了 function、array、date等
3. 原始数据类型存储在栈内存，存储的是值。
复杂数据类型存储在堆内存，存储的是地址。当我们把对象赋值给另外一个变量的时候，复制的是地址，指向同一块内存空间，当其中一个对象改变时，另一个对象也会变化。
- 原始值。存储在栈（stack)，即它们的值直接存储在变量访问的位置，undefined, null, boolean, string, number
- 引用值。 存储在堆（heap)中的对象，存储在变量处的值是一个指针，指向存储对象的内存处，
- 原始类型占据的空间固定，将它们存储在较小的内存区域，栈，便于迅速查寻变量的值
- 引用类型的值，它的存储空间从堆中分配，因为引用值的大小会改变，故不能存放在栈中，这样会降低变量查寻的速度，而将该对象存储在堆中地址存放于变量的栈空间，地址大小固定，这样对变量性能无任何影响
3. 对于这些类型的判断，我们常用的方法有：
- typeof、
- instanceof、
- Object.prototype.toString、
- constructor
4. ==总结==：使用 typeof 可以准确判断出除 null 以外的基本类型，以及 function 类型、symbol 类型；null 会被 typeof 判断为 object
5. 使用 instanceof 判断类型:  
6. ==使用 a instanceof B 判断的是==：a 是否为 B 的实例，即 a 的原型链上是否存在 B 构造函数。
7. 使用 ==Object.prototype.toString== 判断类型，我们称之为“万能方法”，“终极方法”：
所有的数据类型都可以判断出来
8. ==使用 constructor 可以查看目标的构造函数==，这也可以进行类型判断，但也存在着问题，对于 undefined 和 null，如果尝试读取其 constructor 属性，将会进行报错。并且 constructor 返回的是构造函数本身，一般使用它来判断类型的情况并不多见。
9. ==JavaScript类型“隐式转换”==：
11. 当使用 + 运算符计算 string 和其他类型相加时，都会转换为 string 类型；其他情况，都会转换为 number 类型，但是 undefined 和 null 会转换为 NaN，相加结果也是 NaN。
12. 当使用 + 运算符计算时，如果存在复杂类型，那么复杂类型将会转换为基本类型，再进行运算
13. “对象类型转基本类型”这个过程。具体规则：

- 对象在转换基本类型时，会调用该对象上 valueOf 或 toString 这两个方法，该方法的返回值是转换为基本类型的结果
- 主观上说，这个对象倾向于转换成什么，就会优先调用哪个方法。如果倾向于转换为 Number 类型，就优先调用 valueOf；如果倾向于转换为 String 类型，就只调用 toString。这里我建议大家了解一些常用的转换结果，对于其他特例情况会查找规范即可。
14. 全面总结一下：
15. 对于加法操作，如果加号两边都是 Number 类型，其规则为：

- 如果 + 号两边存在 NaN，则结果为 NaN（typeof NaN 是 'number）
- 如果是 Infinity + Infinity，结果是 Infinity
- 如果是 -Infinity + (-Infinity)，结果是 -Infinity
- 如果是 Infinity + (-Infinity)，结果是 NaN
16. 如果加号两边有至少一个是字符串，其规则为：

-  如果 + 号两边都是字符串，则执行字符串拼接
- 如果 + 号两边只有一个值是字符串，则将另外的值转换为字符串，再执行字符串拼接
- 如果 + 号两边有一个是对象，则调用 valueof() 或者 toStrinig() 方法取得值，转换为基本类型再进行字符串拼接。
17. 当然也可以进行显式转换，我们往往使用类似 Number、Boolean、String、parseInt 等方法，进行显式类型转换，这里不再展开
18. ==JavaScript 函数参数传递==
19. JavaScript 当中有“引用赋值”和“基本类型赋值”以及相关概念：“深拷贝”、“浅拷贝”区分,那么函数的参数传递有什么讲究呢？
-  参数为基本类型时，函数体内复制了一份参数值，对于任何操作不会影响参数实际值
- 函数参数是一个引用类型时，当在函数体内修改这个值的某个属性值时，将会对参数进行修改
- 函数参数是一个引用类型时，如果我们直接修改了这个值的引用地址，则相当于函数体内新创建了一份引用，对于任何操作不会影响原参数实际值
20. ==cannot read property of undefined 问题解决方案==

