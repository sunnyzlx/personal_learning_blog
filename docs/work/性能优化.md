# 性能优化

## 前端性能优化最佳实践，（vue打包优化）

- 以下均不是性能优化，只是一个执行效率的问题
  - while循环快还是for循环快？
  - |0是不是比Math.floor性能好？
  - if else与三元运算符哪个快？

## 性能分析
- 页面加载性能（加载的时间）如vue单页的加载需要多长时间，秒开率
- 动画与操作性能（是否流畅无卡顿）如在浏览一个网页时，它里面的动画运行是否流畅，它里面的按钮或着一些操坐，当我们去点击时，是否是没有卡顿的
- 内存，电量消耗（内存占用，耗电量）如做游戏时，如何减少它的耗电量

## 性能体系与性能指标
- 性能体系
  - 性能评估和建立指标 -> 技术方案 -> 执行 -> 结果分析 
  - 加载太慢 -> cnd库 -> 搭建cdn -> 果然快了

## 技术方案
- 缓存（对于需要频繁从接口中获取的资源）
  - 客户端控制的强缓存策略
- 降低请求成本
  - HTTP DNS：由客户端控制，隔一段时间主动请求DNS获取请求域名IP，不走系统的DNS
  - TCP/TLS连接复用，服务端升级到HTTP2.0，尽量合并域名
- 减少请求数
  - JS，CSS打包到html
  - 用js控制图片异步加载和懒加载
  - 小型图片使用data URI
- 减少传输体积
  - 尽量使用SVG/gradient等代替图片
  - 根据机型和网络状况控制图片清晰度
  - 对低清晰度图片使用锐化来提升体验
  - 设计上避免大型背景图

## 性能优化点
- 防抖与截流

## 优化vue打包慢的问题
- 抽取公共组件
- UI组件的按需引入（elementUI),不要全局引入
- css，js抽取公共部分