<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack4简介 | 个人学习博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/personal_learning_blog/logo.png">
    <link rel="manifest" href="/personal_learning_blog/manifest.json">
    <link rel="apple-touch-icon" href="/personal_learning_blog/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/personal_learning_blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="个人学习博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/personal_learning_blog/assets/css/0.styles.d89bb2b8.css" as="style"><link rel="preload" href="/personal_learning_blog/assets/js/app.74e3015b.js" as="script"><link rel="preload" href="/personal_learning_blog/assets/js/2.6c17bd23.js" as="script"><link rel="preload" href="/personal_learning_blog/assets/js/82.43e2d4f4.js" as="script"><link rel="prefetch" href="/personal_learning_blog/assets/js/10.f3dfdda0.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/100.6fe8a05c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/101.62fa532d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/102.2b529457.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/103.2096c698.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/104.3d417a3f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/105.dd8445dd.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/106.21732a46.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/107.190b9142.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/108.12c56ec1.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/11.15e025ca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/12.3c465d6f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/13.01fa0ab2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/14.228b20df.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/15.e051af75.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/16.b6cd45b2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/17.04b92cfa.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/18.f213c6d2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/19.731e1965.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/20.37dd4851.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/21.4539f92b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/22.ff177489.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/23.337464b7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/24.c615303b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/25.6a702dd7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/26.0c25b06b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/27.36993a49.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/28.ff6e6e2f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/29.687807da.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/3.81a0a7fb.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/30.c6db1f4d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/31.2342ba6a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/32.8198781b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/33.b238ec12.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/34.69e7f1b8.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/35.5a58ffe8.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/36.c925e579.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/37.cba0c296.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/38.3438e861.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/39.bdeebabe.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/40.5264cfc2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/41.7a3922a5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/42.f93f3c7f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/43.9cb47d07.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/44.14da4196.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/45.d58f54ea.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/46.605c4244.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/47.f81de92d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/48.c24766f9.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/49.e0e93f9a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/5.75a3592b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/50.c37731f2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/51.5daa5256.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/52.9901f9c7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/53.7488a95a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/54.96d1df40.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/55.f40beac1.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/56.596340de.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/57.796601c5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/58.879319ae.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/59.4ca05c3d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/60.a7c4a633.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/61.9c4a99c3.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/62.a46d12fe.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/63.108ac59f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/64.18e7e87f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/65.ff114422.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/66.8d316103.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/67.09533e88.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/68.37810e5e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/69.71fadcfc.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/7.c5829170.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/70.76b6f674.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/71.2ba4e8cd.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/72.4f5b9f9b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/73.81464a39.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/74.66c11559.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/75.d5e0ec17.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/76.4a1d1e39.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/77.a29f54e9.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/78.2a8dd139.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/79.ab2d8390.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/8.08326ec3.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/80.a905e17b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/81.976246d0.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/83.e0dce43e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/84.fba59f59.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/85.ee892391.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/86.78db9fc4.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/87.b48f406e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/88.75767c0b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/89.86e0154c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/9.28a7790b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/90.db1e0351.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/91.c39dcc6c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/92.300d0ab2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/93.793d24d5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/94.a43aed3f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/95.7d193dca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/96.67e5317e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/97.8e7acaca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/98.79f74317.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/99.f82e0052.js">
    <link rel="stylesheet" href="/personal_learning_blog/assets/css/0.styles.d89bb2b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/personal_learning_blog/" class="home-link router-link-active"><!----> <span class="site-name">个人学习博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/sunnyzlx/personal_learning_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/sunnyzlx/personal_learning_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>wechat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/personal_learning_blog/webpack/" aria-current="page" class="active sidebar-link">webpack4简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#webpack是什么" class="sidebar-link">webpack是什么？</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#_2-模块是什么" class="sidebar-link">2. 模块是什么？</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#_3-webpack的配置文件有什么作用" class="sidebar-link">3. webpack的配置文件有什么作用？</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#webpack构建流程" class="sidebar-link">webpack构建流程</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#如何利用webpack来优化前端性能" class="sidebar-link">如何利用webpack来优化前端性能</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#参考" class="sidebar-link">参考</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#开发" class="sidebar-link">开发</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/webpack/#配置" class="sidebar-link">配置</a></li></ul></li><li><a href="/personal_learning_blog/webpack/webpack基础.html" class="sidebar-link">webpack基础</a></li><li><a href="/personal_learning_blog/webpack/webpack进阶.html" class="sidebar-link">webpack进阶</a></li><li><a href="/personal_learning_blog/webpack/webpack高级.html" class="sidebar-link">webpack高级</a></li><li><a href="/personal_learning_blog/webpack/webpack实战.html" class="sidebar-link">webpack实战</a></li><li><a href="/personal_learning_blog/webpack/webpack性能优化.html" class="sidebar-link">webpack性能优化</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>leetcode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>work</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>interview</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack4简介"><a href="#webpack4简介" class="header-anchor">#</a> webpack4简介</h1> <h2 id="webpack是什么"><a href="#webpack是什么" class="header-anchor">#</a> webpack是什么？</h2> <ul><li>webpack本质上是一个模块打包工具，它在处理应用程序时，会递归的构建一个依赖关系图，包含应用程序所需的每个模块，然后将所有模块打包成一个或多个bundle</li> <li>webpack是一个模块打包工具，它可以识别任何模块导入和导出的语法，包括
<ul><li>ES Module的模块引入导出方式， import from / export default</li> <li>CommonJS的模块引入导出方式， const Header = require(./header.js) / module.exports = Header</li> <li>AMD</li> <li>CMD</li></ul></li> <li>webpack原来只是一个JS的模块打包工具，现在不仅可以打包js，还可以打包css, png/jpg/jpeg图片等各种文件</li> <li>提升webpack打包速度的两个非常重要的点：1.保持nodejs为最新版本，保持webpack为最新版本，高版本的webpack会利用nodejs中的一些新特性来提高他的打包速度，</li> <li>webpack-cli模块使得我们可以在命令行中正确的运行webpack</li> <li>npx 就是让项目内部安装的模块用起来更方便，不必加上路径,,,npx 命令，可以运行在初始安装的 webpack 包(package)的 webpack 二进制文件（./node_modules/.bin/webpack</li> <li>npm scripts 当前目录的node_modules/.bin子目录里面的所有脚本，都可以直接用脚本名调用，而不必加上路径</li></ul> <h2 id="_2-模块是什么"><a href="#_2-模块是什么" class="header-anchor">#</a> 2. 模块是什么？</h2> <ul><li>对于webpack来说，项目中的任何文件都可以称之为一个模块</li></ul> <h2 id="_3-webpack的配置文件有什么作用"><a href="#_3-webpack的配置文件有什么作用" class="header-anchor">#</a> 3. webpack的配置文件有什么作用？</h2> <ul><li>改过webpack的配置文件后，一定要记得重启服务器，不然默认会是修改前的配置</li></ul> <ol><li>webpack4,速度更快，大型项目节约90%的构建时间，内置了更多了默认配置，变更了许多api</li> <li>彻底学会webpack的配置，理解webpack的作用及原理，上手项目的打包配置过程，拥有工程化的前端思维</li> <li>webpack打包优点：</li></ol> <ul><li>1）index.html中只有一个js文件，网页的运行速度会很快，</li> <li>2）文件与文件之间的依赖关系非常明确，不存在依赖引入顺序问题导致的代码运行错误问题，</li> <li>3）ES Moudule 模块引入方式，更方便，但需要同样的方式将模块导出，浏览器不支持这种模块引入方式，但webpack转译后可用引入和导出的语法</li></ul> <h2 id="webpack构建流程"><a href="#webpack构建流程" class="header-anchor">#</a> webpack构建流程</h2> <ul><li>初始化参数，从配置文件和shell语句中读到的参数合并，得到最后的参数</li> <li>开始编译：用合并得到的参数初始化complier对象，加载是所有配置的插件，执行run方法开始编译</li> <li>确定入口，通过entry找到入口文件</li> <li>编译模块，从入口文件出发，调用所有配置的loader对模块进行解析翻译，在找到该模块依赖的模块进行处理</li> <li>完成模块编译，得到每个模块被翻译之后的最终的内容和依赖关系</li> <li>输出资源，根据入口和模块之间的依赖关系，组装成一个个包含多个模块的chunk，在把每个chunk转换成一个单独的文件加载到输出列表</li> <li>输出完成，确定输出的路径和文件名，把内容写到文件系统中
在以上过程中，webpack会在特定的时间点广播出特定的事件，插件在舰艇感兴趣的事件后会执行特定的逻辑，改变webpack的运行结果</li></ul> <h2 id="如何利用webpack来优化前端性能"><a href="#如何利用webpack来优化前端性能" class="header-anchor">#</a> 如何利用webpack来优化前端性能</h2> <ul><li>压缩代码。uglifyJsPlugin 压缩js代码， mini-css-extract-plugin 压缩css代码</li> <li>利用CDN加速，将引用的静态资源修改为CDN上对应的路径，可以利用webpack对于output参数和loader的publicpath参数来修改资源路径</li> <li>删除死代码（tree shaking），css需要使用Purify-CSS</li> <li>提取公共代码。webpack4移除了CommonsChunkPlugin (提取公共代码)，用optimization.splitChunks和optimization.runtimeChunk来代替</li></ul> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li>https://www.jianshu.com/p/e80d38661358</li> <li>https://www.jianshu.com/p/bb1e76edc71e</li> <li>https://www.jianshu.com/p/e80d38661358</li> <li>https://segmentfault.com/a/1190000015355816</li></ul> <h2 id="开发"><a href="#开发" class="header-anchor">#</a> 开发</h2> <ul><li>使用source map, 目的：为了更容易地追踪错误和警告，将编译后的代码映射回原始源代码
<ul><li>devtool: 'inline-source-map'</li></ul></li> <li>使用观察模式，如果其中一个文件被更新，代码将被重新编译，而不必手动运行整个构建，唯一的缺点是，为了看到修改后的实际效果，你需要刷新浏览器
<ul><li>添加一个用于启动 webpack 的观察模式的 npm script 脚本即可： &quot;watch&quot;: &quot;webpack --watch&quot;,</li></ul></li> <li>使用 webpack-dev-server，提供了一个简单的 web 服务器，并且能够实时重新加载
<ul><li>默认在 localhost:8080 下建立服务，将 dist 目录下的文件，作为可访问文件。</li> <li>npm install --save-dev webpack-dev-server</li> <li>添加一个 script 脚本，可以直接运行开发服务器(dev server)：&quot;start&quot;: &quot;webpack-dev-server --open&quot;,</li> <li>最后根据Hot Module Replacement的指示再添加一个NamedModulesPlugin，它的作用大概是更容易分析依赖：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>plugins: [
    new webpack.HotModuleReplacementPlugin(),
    new webpack.NamedModulesPlugin(),
],
</code></pre></div><ul><li>来自于devServer官方的解释是（找了半天也没找到）借助于style-loaderCSS很容易实现HMR，而对于js，devServer会尝试做HMR，如果不行就触发整个页面刷新。你问我什么时候js更改才会只触发HMR，那你可以试着再加一个参数hotOnly: true试一试，这时候相当于禁用了自动刷新功能，然而devServer会告诉你这个文件不能被热更新哦。</li></ul></li> <li>tree shaking，移除 JavaScript 上下文中的未引用代码(dead-code)
<ul><li>它依赖于 ES2015 模块系统中的静态结构特性，例如 import 和 export。</li> <li>新的 webpack 4 正式版本，扩展了这个检测能力，通过 package.json 的 &quot;sideEffects&quot; 属性作为标记，向 compiler 提供提示，表明项目中的哪些文件是 &quot;pure(纯的 ES2015 模块)&quot;，由此可以安全地删除文件中未使用的部分</li> <li>你可以将应用程序想象成一棵树。绿色表示实际用到的源码和 library，是树上活的树叶。灰色表示无用的代码，是秋天树上枯萎的树叶。为了除去死去的树叶，你必须摇动这棵树，使它们落下。</li> <li>通过 import 和 export 语法，找出那些需要删除的“未使用代码(dead code)”，然而，我们不只是要找出，还需要在 bundle 中删除它们,为此，我们将使用 -p(production) 这个 webpack 编译标记，来启用 uglifyjs 压缩插件。注意，--optimize-minimize 标记也会在 webpack 内部调用 UglifyJsPlugin。从 webpack 4 开始，也可以通过 &quot;mode&quot; 配置选项轻松切换到压缩输出，只需设置为 &quot;production&quot;。</li> <li>为了学会使用 tree shaking:
<ul><li>使用 ES2015 模块语法（即 import 和 export）</li> <li>在项目 package.json 文件中，添加一个 &quot;sideEffects&quot; 入口</li> <li>引入一个能够删除未引用代码(dead code)的压缩工具(minifier)（例如 UglifyJSPlugin）</li></ul></li></ul></li></ul> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <ul><li>开发环境(development)和生产环境(production)的构建目标差异很大</li> <li>在开发环境中，我们需要具有强大的、具有实时重新加载(live reloading)或热模块替换(hot module replacement)能力的 source map 和 localhost server</li> <li>在生产环境中，我们的目标则转向于关注更小的 bundle，更轻量的 source map，以及更优化的资源，以改善加载时间</li> <li>由于要遵循逻辑分离，我们通常建议为每个环境编写彼此独立的 webpack 配置</li> <li>以上我们将生产环境和开发环境做了略微区分，但是，请注意，我们还是会遵循不重复原则(Don't repeat yourself - DRY)，保留一个“通用”配置</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sunnyzlx/personal_learning_blog/edit/master/docs/webpack/index.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/personal_learning_blog/wechat/" class="prev">
        Introduction
      </a></span> <span class="next"><a href="/personal_learning_blog/webpack/webpack基础.html">
        webpack基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/personal_learning_blog/assets/js/app.74e3015b.js" defer></script><script src="/personal_learning_blog/assets/js/2.6c17bd23.js" defer></script><script src="/personal_learning_blog/assets/js/82.43e2d4f4.js" defer></script>
  </body>
</html>
