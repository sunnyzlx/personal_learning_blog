<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数组类高频面试题 | 个人学习博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/personal_learning_blog/logo.png">
    <link rel="manifest" href="/personal_learning_blog/manifest.json">
    <link rel="apple-touch-icon" href="/personal_learning_blog/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/personal_learning_blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="个人学习博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/personal_learning_blog/assets/css/0.styles.d89bb2b8.css" as="style"><link rel="preload" href="/personal_learning_blog/assets/js/app.74e3015b.js" as="script"><link rel="preload" href="/personal_learning_blog/assets/js/2.6c17bd23.js" as="script"><link rel="preload" href="/personal_learning_blog/assets/js/32.8198781b.js" as="script"><link rel="prefetch" href="/personal_learning_blog/assets/js/10.f3dfdda0.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/100.6fe8a05c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/101.62fa532d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/102.2b529457.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/103.2096c698.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/104.3d417a3f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/105.dd8445dd.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/106.21732a46.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/107.190b9142.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/108.12c56ec1.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/11.15e025ca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/12.3c465d6f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/13.01fa0ab2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/14.228b20df.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/15.e051af75.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/16.b6cd45b2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/17.04b92cfa.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/18.f213c6d2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/19.731e1965.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/20.37dd4851.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/21.4539f92b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/22.ff177489.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/23.337464b7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/24.c615303b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/25.6a702dd7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/26.0c25b06b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/27.36993a49.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/28.ff6e6e2f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/29.687807da.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/3.81a0a7fb.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/30.c6db1f4d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/31.2342ba6a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/33.b238ec12.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/34.69e7f1b8.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/35.5a58ffe8.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/36.c925e579.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/37.cba0c296.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/38.3438e861.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/39.bdeebabe.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/40.5264cfc2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/41.7a3922a5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/42.f93f3c7f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/43.9cb47d07.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/44.14da4196.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/45.d58f54ea.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/46.605c4244.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/47.f81de92d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/48.c24766f9.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/49.e0e93f9a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/5.75a3592b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/50.c37731f2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/51.5daa5256.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/52.9901f9c7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/53.7488a95a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/54.96d1df40.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/55.f40beac1.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/56.596340de.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/57.796601c5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/58.879319ae.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/59.4ca05c3d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/60.a7c4a633.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/61.9c4a99c3.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/62.a46d12fe.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/63.108ac59f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/64.18e7e87f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/65.ff114422.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/66.8d316103.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/67.09533e88.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/68.37810e5e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/69.71fadcfc.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/7.c5829170.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/70.76b6f674.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/71.2ba4e8cd.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/72.4f5b9f9b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/73.81464a39.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/74.66c11559.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/75.d5e0ec17.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/76.4a1d1e39.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/77.a29f54e9.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/78.2a8dd139.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/79.ab2d8390.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/8.08326ec3.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/80.a905e17b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/81.976246d0.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/82.43e2d4f4.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/83.e0dce43e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/84.fba59f59.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/85.ee892391.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/86.78db9fc4.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/87.b48f406e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/88.75767c0b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/89.86e0154c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/9.28a7790b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/90.db1e0351.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/91.c39dcc6c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/92.300d0ab2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/93.793d24d5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/94.a43aed3f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/95.7d193dca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/96.67e5317e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/97.8e7acaca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/98.79f74317.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/99.f82e0052.js">
    <link rel="stylesheet" href="/personal_learning_blog/assets/css/0.styles.d89bb2b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/personal_learning_blog/" class="home-link router-link-active"><!----> <span class="site-name">个人学习博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/sunnyzlx/personal_learning_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/sunnyzlx/personal_learning_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>es5</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/personal_learning_blog/es5/" aria-current="page" class="sidebar-link">JS数据类型</a></li><li><a href="/personal_learning_blog/es5/object.html" class="sidebar-link">object</a></li><li><a href="/personal_learning_blog/es5/array.html" class="sidebar-link">array</a></li><li><a href="/personal_learning_blog/es5/string.html" class="sidebar-link">string</a></li><li><a href="/personal_learning_blog/es5/css.html" class="sidebar-link">CSS</a></li><li><a href="/personal_learning_blog/es5/数据类型转换.html" class="sidebar-link">数据类型转换</a></li><li><a href="/personal_learning_blog/es5/作用域和闭包.html" class="sidebar-link">作用域和闭包</a></li><li><a href="/personal_learning_blog/es5/搞定this.html" class="sidebar-link">搞定this</a></li><li><a href="/personal_learning_blog/es5/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/personal_learning_blog/es5/作用域练习.html" class="sidebar-link">作用域练习</a></li><li><a href="/personal_learning_blog/es5/原型链.html" class="sidebar-link">原型链</a></li><li><a href="/personal_learning_blog/es5/事件循环机制.html" class="sidebar-link">事件循环机制（event loop）</a></li><li><a href="/personal_learning_blog/es5/HTTP协议.html" class="sidebar-link">HTTP协议</a></li><li><a href="/personal_learning_blog/es5/JS运行机制.html" class="sidebar-link">JS运行机制</a></li><li><a href="/personal_learning_blog/es5/json.html" class="sidebar-link">json</a></li><li><a href="/personal_learning_blog/es5/dom.html" class="sidebar-link">Document</a></li><li><a href="/personal_learning_blog/es5/JS原理题.html" class="sidebar-link">JS原理题</a></li><li><a href="/personal_learning_blog/es5/JS高频手写题.html" class="sidebar-link">JS高频手写题</a></li><li><a href="/personal_learning_blog/es5/数组类高频面试题.html" class="active sidebar-link">数组类高频面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal_learning_blog/es5/数组类高频面试题.html#一-数组扁平化-5种解法" class="sidebar-link">一.数组扁平化(5种解法)</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/es5/数组类高频面试题.html#二-数组去重的7种姿势" class="sidebar-link">二.数组去重的7种姿势</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/es5/数组类高频面试题.html#三-将类数组对象转为数组-4种" class="sidebar-link">三.将类数组对象转为数组(4种)</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/es5/数组类高频面试题.html#四-洗牌算法" class="sidebar-link">四.洗牌算法</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/es5/数组类高频面试题.html#五-随机数获取" class="sidebar-link">五.随机数获取</a></li></ul></li><li><a href="/personal_learning_blog/es5/字符串类高频面试题.html" class="sidebar-link">字符串类高频面试题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>wechat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>leetcode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>work</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>interview</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数组类高频面试题"><a href="#数组类高频面试题" class="header-anchor">#</a> 数组类高频面试题</h1> <h2 id="一-数组扁平化-5种解法"><a href="#一-数组扁平化-5种解法" class="header-anchor">#</a> 一.数组扁平化(5种解法)</h2> <p><strong>拍平多维数组var arr = [1, 2, 3, [3, 3, 3, [5, 4, 5, 6, 6, 7, 8]],333, 4444]];</strong></p> <ul><li>递归处理</li> <li>闭包+递归处理</li> <li>es6扩展运算符+reduce/concat+push+reduce</li> <li>toString处理</li> <li>rest参数</li></ul> <h3 id="_1-递归处理"><a href="#_1-递归处理" class="header-anchor">#</a> 1. 递归处理</h3> <div class="language- extra-class"><pre class="language-text"><code>function flatten(arr){
  let child = []; //child变量在每次递归时都会清空。故每次遍历结束都需要返回
  for(let i of arr){
    if(Array.isArray(i)){
      child = [...child, ...flatten(i)] 
      //注意：flatten(i)之后的结果也需要展开，否则，只能复制数组，无法扁平化
    }else{
      child = [...child, i]
    }
  }
  return child;
}
function flatten(arr){
  let child = []
  for(let item of arr){
    if(Array.isArray(item)){  
      child = child.concat(flatten(item))
    }else{
      child.push(item)
    }
  }
  return child
}
console.log(flatten(arr))
//  concat方法不会改变原数组，join会
//  concat连接的不仅可以是具体的值，也可以是数组，当是数组时，添加的时数组中的值，该方法不改变原数组，而是返回一个连接后的副本，故使用concat,要把结果赋值给新变量
//  push会改写原数组，并返回新数组的长度，故不需要新变量承接
</code></pre></div><h3 id="_2-闭包-递归处理"><a href="#_2-闭包-递归处理" class="header-anchor">#</a> 2. 闭包+递归处理</h3> <div class="language- extra-class"><pre class="language-text"><code>let product = () =&gt; {
  let child = [] //闭包中的child变量会一直在内存中，是一个累积变量
  let flatten = (arr) =&gt; {
    for(let item of arr){
      if(Array.isArray(item)){
        flatten(item) //此处的作用只是判断item为数组，就将它推入下一次递归
      }else{
        child.push(item) 
        //push会改变原数组，并返回新数组的长度，所有的数组元素都是在此处被push进child变量
      }
    }
    return child //每次都返回一个累积后的child变量
  }
  return flatten
}
let f = product()
console.log(f(arr2))
</code></pre></div><h3 id="_3-es6扩展运算符-reduce"><a href="#_3-es6扩展运算符-reduce" class="header-anchor">#</a> 3. es6扩展运算符+reduce</h3> <div class="language- extra-class"><pre class="language-text"><code>function flatten(arr){
  return arr.reduce((acc, cur)=&gt;{
    if(Array.isArray(cur)){
      return [...acc, ...flatten(cur)]
    }else{
      return [...acc, cur]
    }
  }, [])
}
function flatten(arr){
  return arr.reduce((acc,cur)=&gt;{
    return acc.concat(Array.isArray(cur) ? flatten(cur) : cur)
  },[])
}
</code></pre></div><h3 id="_4-tostring"><a href="#_4-tostring" class="header-anchor">#</a> 4. toString()</h3> <div class="language- extra-class"><pre class="language-text"><code>function flatten(arr){
  return arr.toString().split(',').map(item=&gt; +item)
}
// 数组的toString()方法将数组转化为其字符串形式, split方法将字符串用指定分隔符切成数组，+item将字符串转化为number类型
//该方法无法处理数组成员为非数组的情况，最终会被转化为NaN
</code></pre></div><h3 id="_5-rest参数"><a href="#_5-rest参数" class="header-anchor">#</a> 5. rest参数</h3> <div class="language- extra-class"><pre class="language-text"><code>function flatten(arr){
  while(arr.some(item =&gt; Array.isArray(item))){
    arr = [].concat(...arr)
  }
  return arr
}
</code></pre></div><p>// rest参数默认只能展开一层,扩展运算符不会修改原数组</p> <h2 id="二-数组去重的7种姿势"><a href="#二-数组去重的7种姿势" class="header-anchor">#</a> 二.数组去重的7种姿势</h2> <p><strong>数组去重var arr = [1,2,2,3,4,5,6,4]</strong></p> <ul><li>双重循环去重</li> <li>filter+indexOf去重</li> <li>forEach+includes去重</li> <li>reduce+sort去重</li> <li>对象键值对去重</li> <li>Map去重</li> <li>Set去重</li></ul> <h3 id="最优的数组去重算法是采用map数据结构实现的算法"><a href="#最优的数组去重算法是采用map数据结构实现的算法" class="header-anchor">#</a> 最优的数组去重算法是采用Map数据结构实现的算法</h3> <h3 id="_1-双重循环去重"><a href="#_1-双重循环去重" class="header-anchor">#</a> 1. 双重循环去重</h3> <div class="language- extra-class"><pre class="language-text"><code>function unique(arr){
  let len = arr.length;
  for(let i=0; i&lt;len;i++){
    for(let j=i+1; j&lt;len;j++){
      if(arr[i]===arr[j]){
        // splice 会改变数组长度，所以要将数组长度 len 和下标 j 减一
        arr.splice(j,1)
        len--
        j--
      }
    }
  }
  return arr
}
console.log(unique(arr))
</code></pre></div><h3 id="_2-filter-indexof去重"><a href="#_2-filter-indexof去重" class="header-anchor">#</a> 2. filter+indexOf去重</h3> <div class="language- extra-class"><pre class="language-text"><code>Array.prototype.unique = function(){
  return this.filter((item, index) =&gt; {
    return this.indexOf(item) === index
  })
}
</code></pre></div><h3 id="_3-foreach-includes去重"><a href="#_3-foreach-includes去重" class="header-anchor">#</a> 3. forEach+includes去重</h3> <div class="language- extra-class"><pre class="language-text"><code>Array.prototype.unique = function () {
  const newArray = [];
  this.forEach(item =&gt; {
    if (!newArray.includes(item)) {
      newArray.push(item);
    }
  });
  return newArray;
}
</code></pre></div><h3 id="_4-reduce-sort去重"><a href="#_4-reduce-sort去重" class="header-anchor">#</a> 4. reduce+sort去重</h3> <div class="language- extra-class"><pre class="language-text"><code>Array.prototype.unique = function(arr){
  return this.sort().reduce((init, cur) =&gt; {
    if(init.length === 0 || init[init.length-1] !== cur){
      init.push(cur)
    } 
    return init 
  }, [])
}
</code></pre></div><h3 id="_5-对象键值对去重"><a href="#_5-对象键值对去重" class="header-anchor">#</a> 5. 对象键值对去重</h3> <ul><li>利用了对象的key不可以重复的特性来进行去重</li> <li>但需要注意：
<ul><li>无法区分隐式类型转换成字符串后一样的值，比如 1 和 '1'</li> <li>无法处理复杂数据类型，比如对象（因为对象作为 key 会变成 [object Object]）</li> <li>特殊数据，比如 'proto'，因为对象的 proto 属性无法被重写</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>function Person(){
  this.a = 1
}
const p = new Person()
let arr2 = [1,'1',true,{a: 1},p, 2,3,2,4,4]
function unique(arr){
  let ret = []
  let obj = {}
  for(let item of arr){
    let tmp
    if(typeof item === 'object'){
      let constructor = Object.getPrototypeOf(item).constructor
      tmp = JSON.stringify(item) + constructor
    }else{
      tmp = typeof item + JSON.stringify(item)
    }
    if(!obj[tmp]){
      obj[tmp] = 1
      ret.push(item)
    }
  }
  return ret
}
console.log(unique(arr2), arr2)
</code></pre></div><h3 id="_6-filter-map去重"><a href="#_6-filter-map去重" class="header-anchor">#</a> 6. filter+Map去重</h3> <div class="language- extra-class"><pre class="language-text"><code>function unique(arr){
  let map = new Map()
  return arr.filter(item =&gt; {
    // if(!map.has(item)){
    //   map.set(item,1)
    //   return item
    // }
    return !map.has(item) &amp;&amp; map.set(item,1)
  })
}
</code></pre></div><h3 id="_7-set去重"><a href="#_7-set去重" class="header-anchor">#</a> 7. Set去重</h3> <div class="language- extra-class"><pre class="language-text"><code>function unique(arr){
  let set = new Set(arr)
  return Array.from(set)
  // return [...set]
}
</code></pre></div><h2 id="三-将类数组对象转为数组-4种"><a href="#三-将类数组对象转为数组-4种" class="header-anchor">#</a> 三.将类数组对象转为数组(4种)</h2> <ul><li>如果一个对象的所有键名都是正整数或零，并且有length属性，那么这个对象就很像数组，语法上称为“类似数组的对象”（array-like object）</li> <li>典型的“类似数组的对象”：
<ul><li>函数的arguments对象，</li> <li>以及大多数 DOM 元素集，</li> <li>还有字符串</li></ul></li></ul> <h3 id="将类数组转化为真正的数组"><a href="#将类数组转化为真正的数组" class="header-anchor">#</a> 将类数组转化为真正的数组</h3> <ul><li>es6新增的扩展运算符（...）</li> <li>es6的Array.from()方法</li> <li>es6的for...of+push</li> <li>es5的slice</li></ul> <div class="language- extra-class"><pre class="language-text"><code>let divEle = document.querySelectorAll('div')
let divArr = [];
for(let item of divEle) {
    divArr.push(item)
}

let divArr = [...divEle];

let divArr2 = Array.from(divEle)

var divArr2 = Array.prototype.slice.call(divEle);

let divArr = [].concat.apply([], divEle) //concat不仅会将类数组对象转为数组，还会将数组展开

</code></pre></div><h2 id="四-洗牌算法"><a href="#四-洗牌算法" class="header-anchor">#</a> 四.洗牌算法</h2> <ul><li>它要求数组中的数打乱后，每个数出现在任意位置的概率相同</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function shuffle(arr){
  for(let i=0,len=arr.length;i&lt;len;i++){ //缓存一下数组长度
    const j =  Math.floor(Math.random()*(len-i))
    //返回一个0到len-i之间的随机整数[0,len-i-1]
    let tmp = arr[j]
    arr[j] = arr[len-i-1]
    arr[len-i-1] = tmp
  }
  return arr
}
var arr = [1, 3, 5, 7, 9]
shuffle(arr)
</code></pre></div><ul><li>错误解法：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function shuffle(arr){
  return arr.sort(()=&gt; Math.random()-0.5)
}
// 两数交换的概率为50%，
//这是为什么呢？问题就出在sort这个API上，对于chrome浏览器而言
//当数组长度在10以内时，sort()采用插入排序，反之，则混合使用快速排序和插入排序，
//这样会导致选取的两个交换位置的数不随机，导致数组也就没有真正打乱
</code></pre></div><h2 id="五-随机数获取"><a href="#五-随机数获取" class="header-anchor">#</a> 五.随机数获取</h2> <ul><li>获取一个[0,1)之间的随机数</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Math.random()
</code></pre></div><ul><li>获取一个两数之间的随机数[min, max)</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Math.random()*(max-min)+min
</code></pre></div><ul><li>获取一个两数之间的随机整数[min, max)</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function getRandomInt(min, max){
  min=Math.ceil(min);
  max=Math.floor(max);
  return Math.floor(Math.random()*(max-min))+min;
}
</code></pre></div><ul><li>获取一个两数之间的随机整数,包括两个数在内[min, max]</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function getRandomInt(min, max){
  min=Math.ceil(min)
  max=Math.floor(max);
  return Math.floor(Math.random()*(max-min+1))+min;//含最大值，含最小值
}
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sunnyzlx/personal_learning_blog/edit/master/docs/es5/数组类高频面试题.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/personal_learning_blog/es5/JS高频手写题.html" class="prev">
        JS高频手写题
      </a></span> <span class="next"><a href="/personal_learning_blog/es5/字符串类高频面试题.html">
        字符串类高频面试题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/personal_learning_blog/assets/js/app.74e3015b.js" defer></script><script src="/personal_learning_blog/assets/js/2.6c17bd23.js" defer></script><script src="/personal_learning_blog/assets/js/32.8198781b.js" defer></script>
  </body>
</html>
