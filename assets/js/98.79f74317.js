(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{456:function(r,t,a){"use strict";a.r(t);var e=a(44),s=Object(e.a)({},(function(){var r=this,t=r.$createElement,a=r._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[a("h1",{attrs:{id:"前端错误监控以及上报"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端错误监控以及上报"}},[r._v("#")]),r._v(" 前端错误监控以及上报")]),r._v(" "),a("h3",{attrs:{id:"_1-前端错误分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-前端错误分类"}},[r._v("#")]),r._v(" 1.前端错误分类：")]),r._v(" "),a("ul",[a("li",[r._v("即时运行错误：代码错误")]),r._v(" "),a("li",[r._v("资源加载错误")]),r._v(" "),a("li",[r._v("对于跨域的代码运行错误会显示 Script error. 对于这种情况我们需要给 script 标签添加 crossorigin 属性，并且服务器添加Access-Control-Allow-Origin")])]),r._v(" "),a("h3",{attrs:{id:"_2-即时运行错误捕获"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-即时运行错误捕获"}},[r._v("#")]),r._v(" 2.即时运行错误捕获")]),r._v(" "),a("ul",[a("li",[r._v("（1）try ....catch")]),r._v(" "),a("li",[r._v("（2) window.onerror 或者 window.addEventListener 记住事件捕获阶段获得，不是冒泡阶段")])]),r._v(" "),a("h3",{attrs:{id:"_3-资源加载错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-资源加载错误"}},[r._v("#")]),r._v(" 3.资源加载错误")]),r._v(" "),a("ul",[a("li",[r._v("（1）object.onerror，如img.onerror")]),r._v(" "),a("li",[r._v("（2）performance.getEntries （getEntries api返回一个资源加载完成数组，假设为img，再查询页面中一共有多少个img，二者的差就是没有加载上的资源）")]),r._v(" "),a("li",[r._v("（3）Error事件捕获")])]),r._v(" "),a("h3",{attrs:{id:"_4-错误如何上报"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-错误如何上报"}},[r._v("#")]),r._v(" 4.错误如何上报")]),r._v(" "),a("ul",[a("li",[r._v("（1）ajax")]),r._v(" "),a("li",[r._v("（2）image的src上报")]),r._v(" "),a("li",[r._v("(new Image()).src = '错误上报的请求地址'")]),r._v(" "),a("li",[r._v("一般来说，大厂都是采用利用image对象的方式上报错误的；使用图片发送get请求，上报信息，由于浏览器对图片有缓存，同样的请求，图片只会发送一次，避免重复上报")])])])}),[],!1,null,null,null);t.default=s.exports}}]);