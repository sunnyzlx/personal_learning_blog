<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React高级 | 个人学习博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/personal_learning_blog/logo.png">
    <link rel="manifest" href="/personal_learning_blog/manifest.json">
    <link rel="apple-touch-icon" href="/personal_learning_blog/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/personal_learning_blog/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="个人学习博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/personal_learning_blog/assets/css/0.styles.d89bb2b8.css" as="style"><link rel="preload" href="/personal_learning_blog/assets/js/app.74e3015b.js" as="script"><link rel="preload" href="/personal_learning_blog/assets/js/2.6c17bd23.js" as="script"><link rel="preload" href="/personal_learning_blog/assets/js/61.9c4a99c3.js" as="script"><link rel="prefetch" href="/personal_learning_blog/assets/js/10.f3dfdda0.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/100.6fe8a05c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/101.62fa532d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/102.2b529457.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/103.2096c698.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/104.3d417a3f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/105.dd8445dd.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/106.21732a46.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/107.190b9142.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/108.12c56ec1.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/11.15e025ca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/12.3c465d6f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/13.01fa0ab2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/14.228b20df.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/15.e051af75.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/16.b6cd45b2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/17.04b92cfa.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/18.f213c6d2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/19.731e1965.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/20.37dd4851.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/21.4539f92b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/22.ff177489.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/23.337464b7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/24.c615303b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/25.6a702dd7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/26.0c25b06b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/27.36993a49.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/28.ff6e6e2f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/29.687807da.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/3.81a0a7fb.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/30.c6db1f4d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/31.2342ba6a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/32.8198781b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/33.b238ec12.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/34.69e7f1b8.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/35.5a58ffe8.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/36.c925e579.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/37.cba0c296.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/38.3438e861.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/39.bdeebabe.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/40.5264cfc2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/41.7a3922a5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/42.f93f3c7f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/43.9cb47d07.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/44.14da4196.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/45.d58f54ea.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/46.605c4244.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/47.f81de92d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/48.c24766f9.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/49.e0e93f9a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/5.75a3592b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/50.c37731f2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/51.5daa5256.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/52.9901f9c7.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/53.7488a95a.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/54.96d1df40.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/55.f40beac1.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/56.596340de.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/57.796601c5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/58.879319ae.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/59.4ca05c3d.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/60.a7c4a633.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/62.a46d12fe.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/63.108ac59f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/64.18e7e87f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/65.ff114422.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/66.8d316103.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/67.09533e88.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/68.37810e5e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/69.71fadcfc.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/7.c5829170.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/70.76b6f674.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/71.2ba4e8cd.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/72.4f5b9f9b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/73.81464a39.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/74.66c11559.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/75.d5e0ec17.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/76.4a1d1e39.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/77.a29f54e9.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/78.2a8dd139.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/79.ab2d8390.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/8.08326ec3.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/80.a905e17b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/81.976246d0.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/82.43e2d4f4.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/83.e0dce43e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/84.fba59f59.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/85.ee892391.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/86.78db9fc4.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/87.b48f406e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/88.75767c0b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/89.86e0154c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/9.28a7790b.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/90.db1e0351.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/91.c39dcc6c.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/92.300d0ab2.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/93.793d24d5.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/94.a43aed3f.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/95.7d193dca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/96.67e5317e.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/97.8e7acaca.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/98.79f74317.js"><link rel="prefetch" href="/personal_learning_blog/assets/js/99.f82e0052.js">
    <link rel="stylesheet" href="/personal_learning_blog/assets/css/0.styles.d89bb2b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/personal_learning_blog/" class="home-link router-link-active"><!----> <span class="site-name">个人学习博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/sunnyzlx/personal_learning_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/sunnyzlx/personal_learning_blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>react</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/personal_learning_blog/react/" aria-current="page" class="sidebar-link">React基础</a></li><li><a href="/personal_learning_blog/react/React高级.html" class="active sidebar-link">React高级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/personal_learning_blog/react/React高级.html#proptypes与defaultprops" class="sidebar-link">PropTypes与DefaultProps</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/react/React高级.html#react中的ref" class="sidebar-link">React中的ref</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/react/React高级.html#props-state与render函数" class="sidebar-link">Props，State与render函数</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/react/React高级.html#react中的虚拟dom" class="sidebar-link">React中的虚拟DOM</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/react/React高级.html#深入了解虚拟dom" class="sidebar-link">深入了解虚拟DOM</a></li><li class="sidebar-sub-header"><a href="/personal_learning_blog/react/React高级.html#虚拟dom中的diff算法" class="sidebar-link">虚拟DOM中的diff算法</a></li></ul></li><li><a href="/personal_learning_blog/react/React生命周期.html" class="sidebar-link">React生命周期</a></li><li><a href="/personal_learning_blog/react/redux基础.html" class="sidebar-link">redux基础</a></li><li><a href="/personal_learning_blog/react/redux进阶.html" class="sidebar-link">redux进阶</a></li><li><a href="/personal_learning_blog/react/router.html" class="sidebar-link">router</a></li><li><a href="/personal_learning_blog/react/react源码.html" class="sidebar-link">react源码</a></li><li><a href="/personal_learning_blog/react/react之hook.html" class="sidebar-link">react之hook</a></li><li><a href="/personal_learning_blog/react/react项目经验总结.html" class="sidebar-link">react项目经验总结</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>wechat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>leetcode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>work</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>interview</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react高级"><a href="#react高级" class="header-anchor">#</a> React高级</h1> <h2 id="proptypes与defaultprops"><a href="#proptypes与defaultprops" class="header-anchor">#</a> PropTypes与DefaultProps</h2> <ul><li>每个组件都有自己的props参数，这个参数是从父组件接收的一些属性，如何对参数的类型做校验，如何定义参数的默认值，这就需要用到PropTypes和DefaultProps</li></ul> <h2 id="react中的ref"><a href="#react中的ref" class="header-anchor">#</a> React中的ref</h2> <ul><li>React中利用ref直接获取元素对应的DOM</li> <li>但是不推荐使用ref，React建议使用数据驱动的方式来编写代码，尽量不要直接操作DOM，除非在一些及其复杂的业务中，如操作动画</li> <li>使用ref可能会遇到各种各样的问题，如ref与setState合用时，可能会出现DOM更新不及时，导致获取的DOM不准确，原因时setState是异步的，如果希望页面更新后，在去获取DOM，一定要记得把获取DOM的语法，放在setState的第二个参数的函数中，它是一个回调函数</li></ul> <h2 id="props-state与render函数"><a href="#props-state与render函数" class="header-anchor">#</a> Props，State与render函数</h2> <ul><li>react是一个由数据驱动的框架，当数据发生变化，页面就会自动跟着变化，它背后的原理是什么呢？</li> <li>当组件的state或者props发生改变的时候，render函数就会重新执行</li> <li>当父组件的render函数被运行时，它的子组件的render函数都将被重新运行</li> <li>之所以子组件的render函数会被重新执行，可以从两方面理解：1）它的props本身发生了改变，2）它是父组件的一个子组件，父组件的render函数被重新执行时，子组件的render函数也会被重新执行一次</li></ul> <h2 id="react中的虚拟dom"><a href="#react中的虚拟dom" class="header-anchor">#</a> React中的虚拟DOM</h2> <ul><li>当组件的props或者state数据发生变化的时候，组件的render函数就会重新被执行，组件就会被重新渲染，react中实现这种重新渲染，他的性能是非常高的，因为它引入了一个虚拟DOM的概念</li> <li>如何实现虚拟DOM？
<ul><li>实现思路：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>思路1:
1）定义一个state,先有数据
2）再定义一份JSX模版(render函数中return返回的即为模版)
3）将数据与模版结合，生成真实的DOM，来显示(render函数执行时，会把数据和模版相结合，
来生成真实的DOM，然后把DOM挂载到页面上，这样就实现了页面的渲染) 
4）一旦数据发生改变
5）那就再做一次操作，用新的数据与模版结合，生成真实的DOM，替换原始的DOM
缺陷：
第一次生成了一个完整真实的DOM片段
第二次又生成了一个完整真实的DOM片段
第二次的DOM去替换第一次的DOM，三次操作都非常耗费性能

思路2:
1）state 数据
2）JSX 模版
3）将数据与模版结合，生成真实的DOM，来显示
4）state 发生改变
5）数据 + 模版 结合，生成真实的DOM，并不直接替换原始的DOM
6）新的DOM（DocumentFragment,文档片段，存在与内存中）和原始的DOM做比对，找差异
7）找出input框发生了变化
8）只用新的DOM中的input元素，替换掉老的DOM中的input元素
缺陷：
性能提升不明显

虚拟DOM底层原理：
1）state 数据
2）JSX 模版
3）数据 + 模版 生成虚拟DOM(虚拟DOM就是一个js对象，用它来描述真实DOM)
['div', {id: 'abc'}, ['span', {}, 'hello']]
// 用JS生成一个js对象，代价很小，但是用js生成一个DOM元素，代价极高,
// 因为它在底层会调用一个WebApplication级别的一个api,这种级别的api性能损耗很大

4）用虚拟DOM的结构，生成真实的DOM，来显示
&lt;div id=&quot;abc&quot;&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt;

5）state 发生变化

6）数据 + 模版 生成新的虚拟DOM(极大的提升性能)
['div', {id: 'abc'}, ['span', {}, 'bye bye']]

7)比较原始的虚拟dom和新的虚拟dom，找出区别是span中内容(极大的提升性能)
// 比对两个JS对象，非常节约性能

8）直接操作dom,改变span中的内容
</code></pre></div><ul><li>react中引入虚拟DOM，为什么提升性能？因为它减少了对真实DOM的创建以及真实DOM的对比，取而代之，创建的都是JS对象，对比的也都是JS对象，通过这种方式，react底层实现了极大的性能飞跃</li> <li>虚拟DOM本质上就是一个JS对象，本质上它能提高性能，是因为js中去比较js对象不怎么耗费性能，去比较真实的DOM会很耗费性能</li></ul></li></ul> <h2 id="深入了解虚拟dom"><a href="#深入了解虚拟dom" class="header-anchor">#</a> 深入了解虚拟DOM</h2> <ul><li>react底层操作： JSX模版 -&gt; createElement -&gt;（虚拟DOM）JS对象  -&gt;  真实的DOM</li></ul> <div class="language- extra-class"><pre class="language-text"><code>return &lt;div&gt;&lt;span&gt;hello&lt;/span&gt;&lt;/div&gt;
return React.createElement('div', {}, React.createElement('span', {}, 'hello'))
</code></pre></div><ul><li>JSX语法的存在，是为了方便代码书写，更方便，更简洁</li> <li>虚拟DOM带来的好处：
<ul><li>性能提升（DOM的比对，变为js对象的比对）</li> <li>使得跨端应用得以实现（在网页中，可以使用虚拟DOM生成真实的DOM，进而在浏览器中渲染出真实的页面，在RN原生应用中，可以使用虚拟DOM生成原生的组件，进而展示原生的页面，所以React既可以开发网页应用，又可以开发原生应用）</li></ul></li></ul> <h2 id="虚拟dom中的diff算法"><a href="#虚拟dom中的diff算法" class="header-anchor">#</a> 虚拟DOM中的diff算法</h2> <ul><li>虚拟DOM（JS对象）比对的方式，就叫做Diff算法，（difference）,实际上，React的Diff算法，大大的提升了两个虚拟DOM之间的比对性能</li> <li>什么时候数据会发生变化，其实都是当调用setState时，数据才会发生变化，然后虚拟DOM才重新比对</li> <li>setState其实是异步的，它在react底层的一个性能优化实现是，将多次setState结合为一次setState，减少虚拟DOM比对的次数</li> <li>Diff算法比对两个虚拟DOM差异时，它会逐层比对，如果一层不满足匹配要求，那下面的就不会再去比对了，直接废弃掉，用新的替换掉旧的</li> <li>Diff算法中，有个很重要的概念，叫做同层比对，即只比对同层虚拟DOM,发现差异后，不会再继续比对，整个对原始DOM进行全部替换，好处：比对算法简单，比对速度很快，虽然可能造成DOM重新渲染的一些浪费，但大大减少了DOM比对算法上的性能损耗</li> <li>为什么React中做列表循环时，要引入key值？在做虚拟DOM的比对循环时，当增加key值后，虚拟DOM的比对，会根据key值做关联，有关联的元素就可以直接复用，只需要把没有做关联的元素增加到DOM树上即可，这样就提高了虚拟DOM比对的性能，但是要提高性能有一个前提，就是比对前后的key值不变，key值要保持稳定，所以不能用index做key值，因为增删dom后，index就移位了，元素对应的key值就不稳定了，这就失去了key值的意义，无法做关联复用了</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sunnyzlx/personal_learning_blog/edit/master/docs/react/React高级.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/personal_learning_blog/react/" class="prev router-link-active">
        React基础
      </a></span> <span class="next"><a href="/personal_learning_blog/react/React生命周期.html">
        React生命周期
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/personal_learning_blog/assets/js/app.74e3015b.js" defer></script><script src="/personal_learning_blog/assets/js/2.6c17bd23.js" defer></script><script src="/personal_learning_blog/assets/js/61.9c4a99c3.js" defer></script>
  </body>
</html>
